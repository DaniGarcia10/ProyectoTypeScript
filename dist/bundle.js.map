{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;AAAa;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA;AACA,6CAA6C;AAC7C;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,mBAAO,CAAC,2CAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,+BAA+B;AAC/B,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,mCAAmC;AACjF;AACA;AACA;AACA;AACA;AACA,8CAA8C,kCAAkC;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iBAAiB;AAC9D,oDAAoD,kBAAkB;AACtE,mDAAmD,iBAAiB;AACpE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,MAAM;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,+EAA+E,GAAG;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;ACzJa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAe;;;;;;;UC1Bf;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UEtBA;UACA;UACA;UACA","sources":["webpack://typescript-project/./src/index.ts","webpack://typescript-project/./src/models/Pais.ts","webpack://typescript-project/webpack/bootstrap","webpack://typescript-project/webpack/before-startup","webpack://typescript-project/webpack/startup","webpack://typescript-project/webpack/after-startup"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Pais_1 = __importDefault(require(\"./models/Pais\"));\n// Variables para controlar la navegación\nlet indexActual = 0;\n// Array de paises para listar\nlet paises = [];\n// Referencias a los elementos HTML\nlet btnsearch = document.getElementById('btn-search');\nlet inputsearch = document.getElementById('input-search');\nlet card = document.getElementById('card');\nlet cardTitle = document.getElementById('card-title');\nlet liData1 = document.getElementById(\"li-data1\");\nlet liData2 = document.getElementById(\"li-data2\");\nlet spanErrores = document.getElementById(\"span-errores\");\nlet previousBtn = document.getElementById(\"previous-element\");\nlet nextBtn = document.getElementById(\"next-element\");\nlet container = document.getElementById('container');\n// Función asíncrona para obtener los datos de la API https://restcountries.com/v3.1/all\nfunction buscarPais() {\n    return __awaiter(this, void 0, void 0, function* () {\n        let query = inputsearch.value.trim();\n        // Si el campo de búsqueda está vacío, muestra un mensaje de error\n        if (!query) {\n            spanErrores.textContent = \"Por favor, introduce un término de búsqueda.\";\n            return;\n        }\n        else {\n            // Si hay texto en el campo, borra el mensaje de error\n            spanErrores.textContent = \"\";\n        }\n        // Llama a la función que busca países en la API\n        paises = yield obtenerPaises(query);\n        // Si existe algún país...\n        if (paises.length > 0) {\n            // Limpio primero\n            let paisesCompletos = [];\n            // Luego obtengo detalles completos de cada país\n            for (let p of paises) {\n                let paisCompleto = yield obtenerDetallesPais(p.getId());\n                if (paisCompleto) {\n                    paisesCompletos.push(paisCompleto);\n                }\n            }\n            paises = paisesCompletos;\n            // Muestro el primer país si hay elementos\n            if (paises.length > 0) {\n                indexActual = 0; // Restablezco el índice de inicio\n                mostrarPais(); // Muestra el primer país\n                displayData(paises); // Muestra los resultados en el contenedor container\n            }\n            else {\n                spanErrores.textContent = \"No se pudieron cargar los detalles de los países.\";\n            }\n        }\n        else {\n            spanErrores.textContent = \"No se encontraron resultados para esta búsqueda.\";\n        }\n    });\n}\n// Función para mostrar los datos de un país en la tarjeta (card)\nfunction mostrarPais() {\n    let pais = paises[indexActual];\n    // Usamos indexActual para obtener el país actual\n    if (pais) {\n        cardTitle.textContent = pais.getNombre();\n        // Verifico que los elementos existen\n        if (liData1) {\n            liData1.textContent = `Capital: ${pais.getCapital() || 'Desconocida'}`;\n        }\n        else {\n            console.warn(\"Elemento li-data1 no encontrado\");\n        }\n        if (liData2) {\n            liData2.textContent = ` Región: ${pais.getRegion() || 'Desconocida'}`;\n        }\n        else {\n            console.warn(\"Elemento li-data2 no encontrado\");\n        }\n    }\n}\n// Función para mostrar los datos en el contenedor container\nfunction displayData(data) {\n    if (!container) {\n        console.error('Contenedor de datos no encontrado');\n        return;\n    }\n    container.innerHTML = '';\n    data.forEach((pais) => {\n        const div = document.createElement('div');\n        div.className = 'col-12 col-md-6 col-lg-4';\n        div.innerHTML = `\r\n            <div class=\"card mt-3\">\r\n                <div class=\"card-body\">\r\n                    <h5 class=\"card-title\">${pais.getNombre()}</h5>\r\n                    <p class=\"card-text\">Capital: ${pais.getCapital()}</p>\r\n                    <p class=\"card-text\">Región: ${pais.getRegion()}</p>\r\n                </div>\r\n            </div>\r\n        `;\n        container.appendChild(div);\n    });\n}\n// Función para obtener los países de la API\nfunction obtenerPaises(query) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            // Llamo a la API\n            let response = yield fetch(`https://restcountries.com/v3.1/name/${query}`);\n            let data = yield response.json();\n            if (!data || data.status === 404) {\n                return [];\n            }\n            // Convierto los datos en objetos Pais\n            return data.map((item) => new Pais_1.default(item.cca3, item.name.common, item.capital ? item.capital[0] : 'Desconocida', item.region));\n        }\n        catch (error) {\n            console.error(\"Error al obtener los datos de los países\", error);\n            return [];\n        }\n    });\n}\n// Función para obtener los detalles de un país\nfunction obtenerDetallesPais(id) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            let response = yield fetch(`https://restcountries.com/v3.1/alpha/${id}`);\n            let data = yield response.json();\n            if (!data) {\n                return null;\n            }\n            let item = data[0];\n            return new Pais_1.default(item.cca3, item.name.common, item.capital ? item.capital[0] : 'Desconocida', item.region);\n        }\n        catch (error) {\n            console.error(\"Error al obtener los datos del país\", error);\n            return null;\n        }\n    });\n}\n// Evento de clic en el botón de búsqueda\nbtnsearch.addEventListener('click', buscarPais);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass Pais {\n    constructor(id, nombre, capital, region) {\n        this.id = id;\n        this.nombre = nombre;\n        this.capital = capital;\n        this.region = region;\n    }\n    //Getters\n    getId() {\n        return this.id;\n    }\n    getNombre() {\n        return this.nombre;\n    }\n    getCapital() {\n        return this.capital;\n    }\n    getRegion() {\n        return this.region;\n    }\n    getJSON() {\n        return JSON.stringify(this);\n    }\n}\nexports.default = Pais;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}